function(_add_interfaces)
  set(LLVM_TARGET_DEFINITIONS InputInterfaces.td)
  mlir_tablegen(InputOpInterfaces.h.inc --gen-op-interface-decls)
  mlir_tablegen(InputOpInterfaces.cpp.inc --gen-op-interface-defs)
  add_public_tablegen_target(IREEInputInterfacesIncGen)
  add_dependencies(mlir-headers IREEInputInterfacesIncGen)
endfunction()

function(_add_dialect)
  set(LLVM_TARGET_DEFINITIONS InputOps.td)
  mlir_tablegen(InputOps.h.inc -gen-op-decls)
  mlir_tablegen(InputOps.cpp.inc -gen-op-defs)
  mlir_tablegen(InputTypes.h.inc -gen-typedef-decls)
  mlir_tablegen(InputTypes.cpp.inc -gen-typedef-defs)
  mlir_tablegen(InputAttrs.h.inc -gen-attrdef-decls)
  mlir_tablegen(InputAttrs.cpp.inc -gen-attrdef-defs)
  mlir_tablegen(InputEnums.h.inc -gen-enum-decls)
  mlir_tablegen(InputEnums.cpp.inc -gen-enum-defs)
  mlir_tablegen(InputDialect.h.inc --gen-dialect-decls --dialect=iree_input)
  mlir_tablegen(InputDialect.cpp.inc --gen-dialect-defs --dialect=iree_input)
  add_public_tablegen_target(IREEInputIncGen)
  add_dependencies(mlir-headers IREEInputIncGen)
endfunction()

_add_interfaces()
_add_dialect()
