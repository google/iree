module {
  pdl.pattern @mlp : benefit(1) {
    %0 = type loc(#loc2)
    %1 = type loc(#loc3)
    %2 = type loc(#loc4)
    %3 = operands loc(#loc5)
    %4 = attribute = 0.000000e+00 : f32 loc(#loc6)
    %5 = types loc(#loc5)
    %6 = operation "arith.constant"(%3 : !pdl.range<value>)  {"value" = %4} -> (%5 : !pdl.range<type>) loc(#loc5)
    %7 = results 0 of %6  -> !pdl.value loc(#loc7)
    %8 = operand loc(#loc8)
    %9 = operation "linalg.fill"(%7, %8 : !pdl.value, !pdl.value)  -> (%2 : !pdl.type) loc(#loc9)
    %10 = operand : %0 loc(#loc10)
    %11 = operand : %1 loc(#loc11)
    %12 = result 0 of %9 loc(#loc12)
    %13 = operation "linalg.matmul"(%10, %11, %12 : !pdl.value, !pdl.value, !pdl.value)  -> (%2 : !pdl.type) loc(#loc13)
    rewrite %13 {
      %14 = type : i32 loc(#loc15)
      %15 = type : index loc(#loc16)
      %16 = type : i1 loc(#loc17)
      %17 = attribute = 0 : i32 loc(#loc18)
      %18 = operation "arith.constant"  {"value" = %17} -> (%16 : !pdl.type) loc(#loc19)
      %19 = attribute = 1 : i32 loc(#loc20)
      %20 = operation "arith.constant"  {"value" = %19} -> (%16 : !pdl.type) loc(#loc21)
      %21 = result 0 of %18 loc(#loc22)
      %22 = operation "tensor.dim"(%10, %21 : !pdl.value, !pdl.value)  -> (%15 : !pdl.type) loc(#loc23)
      %23 = result 0 of %20 loc(#loc24)
      %24 = operation "tensor.dim"(%11, %23 : !pdl.value, !pdl.value)  -> (%15 : !pdl.type) loc(#loc25)
      %25 = result 0 of %20 loc(#loc26)
      %26 = operation "tensor.dim"(%10, %25 : !pdl.value, !pdl.value)  -> (%15 : !pdl.type) loc(#loc27)
      %27 = results of %22  loc(#loc28)
      %28 = operation "arith.index_cast"(%27 : !pdl.range<value>)  -> (%14 : !pdl.type) loc(#loc29)
      %29 = results of %24  loc(#loc30)
      %30 = operation "arith.index_cast"(%29 : !pdl.range<value>)  -> (%14 : !pdl.type) loc(#loc31)
      %31 = results of %26  loc(#loc32)
      %32 = operation "arith.index_cast"(%31 : !pdl.range<value>)  -> (%14 : !pdl.type) loc(#loc33)
      %33 = attribute = false loc(#loc34)
      %34 = operation "arith.constant"  {"value" = %33} loc(#loc35)
      %35 = result 0 of %13 loc(#loc36)
      %36 = results 0 of %22  -> !pdl.value loc(#loc37)
      %37 = results 0 of %24  -> !pdl.value loc(#loc38)
      %38 = results 0 of %28  -> !pdl.value loc(#loc39)
      %39 = results 0 of %30  -> !pdl.value loc(#loc40)
      %40 = results 0 of %32  -> !pdl.value loc(#loc41)
      %41 = results 0 of %34  -> !pdl.value loc(#loc42)
      %42 = attribute = "mlp_external" loc(#loc43)
      %43 = range %10, %11 : !pdl.value, !pdl.value  loc(#loc44)
      %44 = range %35 : !pdl.value  loc(#loc45)
      %45 = range %36, %37 : !pdl.value, !pdl.value  loc(#loc46)
      %46 = range %38, %39, %40, %41 : !pdl.value, !pdl.value, !pdl.value, !pdl.value  loc(#loc47)
      %47 = apply_native_rewrite "rewriteAsFlowDispatch"(%13, %42, %43, %44, %45, %46 : !pdl.operation, !pdl.attribute, !pdl.range<value>, !pdl.range<value>, !pdl.range<value>, !pdl.range<value>) : !pdl.operation loc(#loc48)
    } loc(#loc14)
  } loc(#loc1)
} loc(#loc)
#loc = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":1:1)
#loc1 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":12:1)
#loc2 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":13:7)
#loc3 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":14:7)
#loc4 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":15:7)
#loc5 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":16:17)
#loc6 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":16:46)
#loc7 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":17:33)
#loc8 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":17:44)
#loc9 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":17:16)
#loc10 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":18:37)
#loc11 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":18:57)
#loc12 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":18:77)
#loc13 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":18:18)
#loc14 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":20:3)
#loc15 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":21:17)
#loc16 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":22:21)
#loc17 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":23:18)
#loc18 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":24:50)
#loc19 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":24:21)
#loc20 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":25:49)
#loc21 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":25:20)
#loc22 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":26:33)
#loc23 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":26:13)
#loc24 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":27:33)
#loc25 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":27:13)
#loc26 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":28:33)
#loc27 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":28:13)
#loc28 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":29:39)
#loc29 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":29:18)
#loc30 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":30:39)
#loc31 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":30:18)
#loc32 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":31:39)
#loc33 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":31:18)
#loc34 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":35:47)
#loc35 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":35:18)
#loc36 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":37:22)
#loc37 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":38:22)
#loc38 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":38:27)
#loc39 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":39:18)
#loc40 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":39:28)
#loc41 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":39:38)
#loc42 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":39:48)
#loc43 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":42:19)
#loc44 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":43:46)
#loc45 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":43:54)
#loc46 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":43:65)
#loc47 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":43:76)
#loc48 = loc("/home/ianwood/iree/samples/custom_dispatch/cpu/mlp_plugin/mlp_linalg_spec.pdll":43:5)
